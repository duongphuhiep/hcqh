<!--
Display a list of post
-->
<dom-module id="post-collection">
	<template>
		<iron-ajax
			auto
			method="POST",
			url="/backend/admin.php"
			body='{"ignoreTemp":"true"}'
			handle-as="json"
			last-response="{{postsCollection}}"
			debounce-duration="200"></iron-ajax>

		<template is="dom-repeat" items={{postsCollection}}>
			<file-item content-type="post-folder" file-name={{item}} on-tap="_onClick"></file-item>
		</template>
	</template>
	<script>
		Polymer({
			is: 'post-collection',

			_onClick: function(e) {
				//e.currentTarget refers to <file-item>, e.target refers to the div
				page.redirect("/post/"+e.currentTarget.fileName);
			}
		});
	</script>

</dom-module>
