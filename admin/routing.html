<script src="../bower_components/page/page.js"></script>
<script>
	page.base("/admin");
	// add #! before urls
	page({
		hashbang: true
	});

	window.addEventListener('WebComponentsReady', function () {
		page('/', function () {
			if (app.isAuthorized) {
				app.route = 'home';
			}
			else {
				app.route = 'login';
			}
		});

		page('/login', function () {
			if (app.isAuthorized) {
				app.route = 'home';
			}
			else {
				app.route = 'login';
			}
		});

		page('/post/:postId', function (ctx) {
			if (app.isAuthorized) {
				app.route = 'home';
				app.fire('routeChanged', ctx.params.postId);
			}
			else {
				app.route = 'login';
			}
		});

		/*app.handleSignIn = function() {
			console.log("google-login");
			//app.fire("google-login");
		};

		app.handleSignOut = function() {
			console.log("google-logout");
			//app.fire("google-logout");
		}*/
	});
</script>
